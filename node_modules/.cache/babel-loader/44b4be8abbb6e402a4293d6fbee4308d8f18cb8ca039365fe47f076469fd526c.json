{"ast":null,"code":"import axois from \"axois\";\nimport { API_BASE_URL } from \"../../config/api\";\nimport { GET_USER_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS } from \"./ActionType\";\nexport const loginUser = loginData => async dispatch => {\n  try {\n    const {\n      data\n    } = await axois.post(`${API_BASE_URL}/auth/signin`, loginData);\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data.jwt\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: LOGIN_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const registerUser = registerData => async dispatch => {\n  try {\n    const {\n      data\n    } = await axois.post(`${API_BASE_URL}/auth/signup`, registerData);\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.jwt\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: REGISTER_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const getUserProfile = jwt => async dispatch => {\n  try {\n    const {\n      data\n    } = await axois.get(`${API_BASE_URL}/api/users/profile`, {\n      headers: {\n        \"Authorization\": `Bearer ${jwt}`\n      }\n    });\n    dispatch({\n      type: GET_USER_PROFILE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: GET_USER_PROFILE_FAILURE,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"names":["axois","API_BASE_URL","GET_USER_SUCCESS","LOGIN_USER_FAILURE","LOGIN_USER_SUCCESS","REGISTER_USER_FAILURE","REGISTER_USER_SUCCESS","loginUser","loginData","dispatch","data","post","jwt","localStorage","setItem","type","payload","error","console","log","message","registerUser","registerData","getUserProfile","get","headers","GET_USER_PROFILE_SUCCESS","GET_USER_PROFILE_FAILURE"],"sources":["C:/Users/Admin/vs/twitter/src/Store/Auth/Action.js"],"sourcesContent":["import axois from \"axois\"\r\nimport { API_BASE_URL } from \"../../config/api\"\r\nimport { GET_USER_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS } from \"./ActionType\"\r\n\r\nexport const loginUser = (loginData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axois.post(`${API_BASE_URL}/auth/signin`, loginData)\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt)\r\n        }\r\n        dispatch({ type: LOGIN_USER_SUCCESS, payload: data.jwt })\r\n    } catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: LOGIN_USER_FAILURE, payload: error.message })\r\n    }\r\n}\r\nexport const registerUser = (registerData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axois.post(`${API_BASE_URL}/auth/signup`, registerData)\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt)\r\n        }\r\n        dispatch({ type: REGISTER_USER_SUCCESS, payload: data.jwt })\r\n    } catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: REGISTER_USER_FAILURE, payload: error.message })\r\n    }\r\n}\r\nexport const getUserProfile = (jwt) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axois.get(`${API_BASE_URL}/api/users/profile`, {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${jwt}`\r\n            }\r\n        })\r\n\r\n        dispatch({ type: GET_USER_PROFILE_SUCCESS, payload: data })\r\n    } catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: GET_USER_PROFILE_FAILURE, payload: error.message })\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,gBAAgB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,qBAAqB,EAAEC,qBAAqB,QAAQ,cAAc;AAErI,OAAO,MAAMC,SAAS,GAAIC,SAAS,IAAK,MAAOC,QAAQ,IAAK;EACxD,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,GAAGV,YAAY,cAAc,EAAEO,SAAS,CAAC;IAC3E,IAAIE,IAAI,CAACE,GAAG,EAAE;MACVC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,IAAI,CAACE,GAAG,CAAC;IACzC;IACAH,QAAQ,CAAC;MAAEM,IAAI,EAAEX,kBAAkB;MAAEY,OAAO,EAAEN,IAAI,CAACE;IAAI,CAAC,CAAC;EAC7D,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC3BR,QAAQ,CAAC;MAAEM,IAAI,EAAEZ,kBAAkB;MAAEa,OAAO,EAAEC,KAAK,CAACG;IAAQ,CAAC,CAAC;EAClE;AACJ,CAAC;AACD,OAAO,MAAMC,YAAY,GAAIC,YAAY,IAAK,MAAOb,QAAQ,IAAK;EAC9D,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,GAAGV,YAAY,cAAc,EAAEqB,YAAY,CAAC;IAC9E,IAAIZ,IAAI,CAACE,GAAG,EAAE;MACVC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,IAAI,CAACE,GAAG,CAAC;IACzC;IACAH,QAAQ,CAAC;MAAEM,IAAI,EAAET,qBAAqB;MAAEU,OAAO,EAAEN,IAAI,CAACE;IAAI,CAAC,CAAC;EAChE,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC3BR,QAAQ,CAAC;MAAEM,IAAI,EAAEV,qBAAqB;MAAEW,OAAO,EAAEC,KAAK,CAACG;IAAQ,CAAC,CAAC;EACrE;AACJ,CAAC;AACD,OAAO,MAAMG,cAAc,GAAIX,GAAG,IAAK,MAAOH,QAAQ,IAAK;EACvD,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMV,KAAK,CAACwB,GAAG,CAAC,GAAGvB,YAAY,oBAAoB,EAAE;MAClEwB,OAAO,EAAE;QACL,eAAe,EAAE,UAAUb,GAAG;MAClC;IACJ,CAAC,CAAC;IAEFH,QAAQ,CAAC;MAAEM,IAAI,EAAEW,wBAAwB;MAAEV,OAAO,EAAEN;IAAK,CAAC,CAAC;EAC/D,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC3BR,QAAQ,CAAC;MAAEM,IAAI,EAAEY,wBAAwB;MAAEX,OAAO,EAAEC,KAAK,CAACG;IAAQ,CAAC,CAAC;EACxE;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}