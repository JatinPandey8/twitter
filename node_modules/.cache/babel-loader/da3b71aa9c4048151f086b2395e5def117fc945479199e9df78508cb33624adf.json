{"ast":null,"code":"import axios from 'axios';\nimport { API_BASE_URL } from \"../../config/api\";\nimport { GET_USER_PROFILE_SUCCESS, GET_USER_PROFILE_FAILURE, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS, FIND_USER_BY_ID_FAILURE, FIND_USER_BY_ID_SUCCESS, UPDATE_USER_SUCCESS, UPDATE_USER_FAILURE, FOLLOW_USER_SUCCESS, FOLLOW_USER_FAILURE, LOGOUT } from \"./ActionType\";\nconst {\n  data\n} = await axios.get(`/api/users/${userId}`);\nexport const loginUser = loginData => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.post(`${API_BASE_URL}/auth/signin`, loginData);\n    console.log(\"logged in user\", data);\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data.jwt\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: LOGIN_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const registerUser = registerData => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.post(`${API_BASE_URL}/auth/signup`, registerData);\n    console.log(\"logged in user\", data);\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.jwt\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: REGISTER_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const getUserProfile = jwt => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get(`${API_BASE_URL}/api/users/profile`, {\n      headers: {\n        \"Authorization\": `Bearer ${jwt}`\n      }\n    });\n    dispatch({\n      type: GET_USER_PROFILE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: GET_USER_PROFILE_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const findUserById = userId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/users/${userId}`);\n    dispatch({\n      type: FIND_USER_BY_ID_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: FIND_USER_BY_ID_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const updateUserProfile = reqData => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.put(`/api/users/update`, reqData);\n    console.log(\"updated user\", data);\n    dispatch({\n      type: UPDATE_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: UPDATE_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const followUserAction = (userId, reqData) => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.put(`/api/users/${userId}/follow `, reqData);\n    console.log(\"followed user\", data);\n    dispatch({\n      type: FOLLOW_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({\n      type: FOLLOW_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const logout = () => async dispatch => {\n  localStorage.removeItem(\"jwt\");\n  dispatch({\n    type: LOGOUT,\n    payload: null\n  });\n};","map":{"version":3,"names":["axios","API_BASE_URL","GET_USER_PROFILE_SUCCESS","GET_USER_PROFILE_FAILURE","LOGIN_USER_FAILURE","LOGIN_USER_SUCCESS","REGISTER_USER_FAILURE","REGISTER_USER_SUCCESS","FIND_USER_BY_ID_FAILURE","FIND_USER_BY_ID_SUCCESS","UPDATE_USER_SUCCESS","UPDATE_USER_FAILURE","FOLLOW_USER_SUCCESS","FOLLOW_USER_FAILURE","LOGOUT","data","get","userId","loginUser","loginData","dispatch","post","console","log","jwt","localStorage","setItem","type","payload","error","message","registerUser","registerData","getUserProfile","headers","findUserById","api","updateUserProfile","reqData","put","followUserAction","logout","removeItem"],"sources":["C:/Users/Admin/vs/twitter/src/Store/Auth/Action.js"],"sourcesContent":["import axios from 'axios';\r\nimport { API_BASE_URL } from \"../../config/api\"\r\nimport { GET_USER_PROFILE_SUCCESS, GET_USER_PROFILE_FAILURE, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS, FIND_USER_BY_ID_FAILURE, FIND_USER_BY_ID_SUCCESS, UPDATE_USER_SUCCESS, UPDATE_USER_FAILURE, FOLLOW_USER_SUCCESS, FOLLOW_USER_FAILURE, LOGOUT } from \"./ActionType\"\r\nconst { data } = await axios.get(`/api/users/${userId}`)\r\n\r\n\r\nexport const loginUser = (loginData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`${API_BASE_URL}/auth/signin`, loginData)\r\n        console.log(\"logged in user\", data)\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt)\r\n        }\r\n        dispatch({ type: LOGIN_USER_SUCCESS, payload: data.jwt })\r\n    } catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: LOGIN_USER_FAILURE, payload: error.message })\r\n    }\r\n}\r\nexport const registerUser = (registerData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.post(`${API_BASE_URL}/auth/signup`, registerData)\r\n        console.log(\"logged in user\", data)\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt)\r\n        }\r\n        dispatch({ type: REGISTER_USER_SUCCESS, payload: data.jwt })\r\n    } catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: REGISTER_USER_FAILURE, payload: error.message })\r\n    }\r\n}\r\nexport const getUserProfile = (jwt) => async (dispatch) => {\r\n    try {\r\n        const { data } = await axios.get(`${API_BASE_URL}/api/users/profile`, {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${jwt}`\r\n            }\r\n        })\r\n\r\n        dispatch({ type: GET_USER_PROFILE_SUCCESS, payload:data })\r\n    } catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: GET_USER_PROFILE_FAILURE, payload:error.message })\r\n    }\r\n}\r\n\r\nexport const findUserById = (userId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/users/${userId}`)\r\n        dispatch({ type: FIND_USER_BY_ID_SUCCESS, payload:data })\r\n        }\r\n    catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type: FIND_USER_BY_ID_FAILURE, payload:error.message })\r\n    }\r\n}\r\nexport const updateUserProfile = (reqData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.put(`/api/users/update`, reqData)\r\n        console.log(\"updated user\", data)\r\n        dispatch({ type:UPDATE_USER_SUCCESS, payload:data })\r\n        }\r\n    catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type:UPDATE_USER_FAILURE, payload:error.message })\r\n    }\r\n}\r\n\r\nexport const followUserAction = (userId, reqData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.put(`/api/users/${userId}/follow `, reqData)\r\n        console.log(\"followed user\", data)\r\n        dispatch({ type:FOLLOW_USER_SUCCESS, payload:data })\r\n        }\r\n    catch (error) {\r\n        console.log(\"error\", error)\r\n        dispatch({ type:FOLLOW_USER_FAILURE, payload:error.message })\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\r\n    localStorage.removeItem(\"jwt\")\r\n    dispatch({ type: LOGOUT, payload: null })\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}